{"version":3,"file":"backtotop.min.js","sources":["../src/backtotop.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Theme Stream - JS code back to top button\n *\n * @module     theme_stream/backtotop\n * @copyright  Based on Theme Boost Union\n * @copyright  2022 Moodle an Hochschulen e.V. <kontakt@moodle-an-hochschulen.de>\n * @copyright  based on code from theme_boost_campus by Kathrin Osswald.\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nconst Selectors = {\n    actions: {\n        backToTop: '[data-action=\"theme_stream/top\"]',\n    },\n};\n\n// Get the button because the data-action doesn't work to add classes.\nlet backToTop = document.getElementById(\"back-to-top\");\n\n/**\n* Show or hide back to top button.\n*\n*/\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n        backToTop.style.display =\"inline-block\";\n  } else {\n        backToTop.style.display = \"none\";\n    }\n}\n\nexport const init = () => {\n    // When there's scrolling we fire the function.\n    window.onscroll = function() {\n        scrollFunction();\n    };\n    document.addEventListener('click', e => {\n        if (e.target.closest(Selectors.actions.backToTop)) {\n            document.body.scrollTo({top: 0, behavior: 'smooth'});\n            document.documentElement.scrollTo({top: 0, behavior: 'smooth'});\n        }\n    });\n};"],"names":["Selectors","backToTop","document","getElementById","window","onscroll","body","scrollTop","documentElement","style","display","addEventListener","e","target","closest","scrollTo","top","behavior"],"mappings":";;;;;;;;;;MAyBMA,kBACO,CACLC,UAAW,wCAKfA,UAAYC,SAASC,eAAe,6BAcpB,KAEhBC,OAAOC,SAAW,WAThBH,SAASI,KAAKC,UAAY,IAAML,SAASM,gBAAgBD,UAAY,GACnEN,UAAUQ,MAAMC,QAAS,eAEzBT,UAAUQ,MAAMC,QAAU,QAS9BR,SAASS,iBAAiB,SAASC,IAC3BA,EAAEC,OAAOC,QAAQd,kBAAkBC,aACnCC,SAASI,KAAKS,SAAS,CAACC,IAAK,EAAGC,SAAU,WAC1Cf,SAASM,gBAAgBO,SAAS,CAACC,IAAK,EAAGC,SAAU"}